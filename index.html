<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>台灣吸菸行為數據監測儀表板</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/topojson@3"></script>
</head>
<body>
    <div class="dashboard">
        <aside class="sidebar">
            <h2>📊 數據篩選</h2>
            
            <div class="control-group">
                <label>觀察對象</label>
                <select id="popSelect">
                    <option value="adult">15歲以上成人</option>
                    <option value="highschool">高中職學生</option>
                    <option value="junior">國中學生</option>
                </select>
            </div>

            <div class="control-group">
                <label>菸品種類</label>
                <select id="productSelect">
                    <option value="cigarette">傳統紙菸</option>
                    <option value="evape">電子煙</option>
                </select>
            </div>

            <div class="control-group">
                <label>統計年份</label>
                <select id="yearSelect"></select>
            </div>

            <div class="control-group">
                <label>性別</label>
                <select id="genderSelect">
                    <option value="overall">整體</option>
                    <option value="male">男性</option>
                    <option value="female">女性</option>
                </select>
            </div>

            <div class="info-card">
                <p id="data-desc">選取上方選項以查看數據</p>
                <div class="stat-highlight">
                    <span id="avg-label">選定條件全台平均</span>
                    <h2 id="avg-value">--</h2>
                </div>
            </div>
            <div style="margin-top: 20px; font-size: 12px; color: #888;">
                * 成人數據單位為「平均每天吸菸支數」<br>
                * 學生數據單位為「目前吸菸率 %」
            </div>
        </aside>

        <main class="main-content">
            <div id="map-container">
                <div id="map"></div>
                <div class="legend">
                    <div id="legend-title">數值高低</div>
                    <div id="legend-bar"></div>
                    <div class="legend-labels">
                        <span>低</span>
                        <span>高</span>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div class="tooltip" id="tooltip"></div>
    <script src="script.js"></script>
</body>
</html>